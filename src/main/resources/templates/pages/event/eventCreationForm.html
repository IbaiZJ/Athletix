<!doctype html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layouts/appLayout}"
  th:with="activePage='Home'"
>
  <head>
    <title>Event create form</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="/js/app/eventCreationMap.js"></script>
  </head>

  <body>
    <main layout:fragment="content">
      <form th:action="@{/event/create}" method="post" enctype="multipart/form-data" class="mx-auto w-full p-6">
        <div class="flex flex-col gap-4">
          <div th:replace="~{fragments/app/appInput :: appInput('text', 'title', 'Title',true,'Title')}"></div>
          <div
            th:replace="~{fragments/app/appInput :: appInput('text', 'shortDescription', 'Short Description',true,'Short Description')}"
          ></div>
          <div class="min-h-2xs flex">
            <div
              th:replace="~{fragments/app/textAreaInput :: appTextarea('Description', 'description', false, 'Description')}"
            ></div>
          </div>

          <div class="flex w-full flex-col gap-4 md:flex-row">
            <div th:replace="~{fragments/app/appInput :: appInput('date', 'date', 'Date',true, 'Date')}"></div>
            <div class="flex flex-row gap-3">
              <div th:replace="~{fragments/app/appInput :: appInput('number', 'dateH', 'Hour',true, 'Hour')}"></div>
              <div th:replace="~{fragments/app/appInput :: appInput('number', 'dateM', 'Minute',true,'Minute')}"></div>
            </div>
          </div>
          <div
            th:replace="~{fragments/app/appInput :: appInput('text', 'location', 'Ubication', true, 'Ubication')}"
          ></div>
          <div id="map" class="relative z-0 h-96 w-full rounded-lg"></div>

          <!-- Inputs ocultos para enviar latitud y longitud -->
          <input type="hidden" name="latitude" id="lat" value="43.1157" />
          <input type="hidden" name="longitude" id="lng" value="-2.4129" />
          <div class="flex w-full flex-col gap-4 md:flex-row">
            <div class="flex w-full flex-col gap-4">
              <div
                th:replace="~{fragments/app/appInput :: appInput('number', 'km', 'Distance (km)',true, 'Distance')}"
              ></div>
              <div class="flex w-full flex-col gap-2">
                <label for="activity" class="mb-0 block text-sm font-medium text-gray-900"> Actividad *</label>

                <select
                  name="activity"
                  id="activity"
                  class="focus:border-primary focus:ring-primary block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900"
                  required
                >
                  <option value="" disabled selected>Selecciona actividad</option>
                  <option value="RUNNING">Running</option>
                  <option value="CYCLING">Cycling</option>
                  <option value="MOUNTAIN_BIKING">Mountain biking</option>
                  <option value="SWIMMING">Swimming</option>
                  <option value="HIKING">Hiking</option>
                  <option value="WALKING">Walking</option>
                  <option value="TRAIL_RUNNING">Trail running</option>
                </select>
              </div>
              <div th:replace="~{fragments/app/event/eventDificulty}"></div>
            </div>
            <div class="flex w-full flex-col gap-4 md:flex-row">
              <div th:replace="~{fragments/login/fileInput}"></div>
            </div>
          </div>

          <div class="flex justify-center">
            <button
              type="submit"
              class="bg-primary hover:bg-primary-hover mx-6 mt-6 w-full rounded-md py-2 text-sm font-medium text-white md:w-[200px]"
            >
              Submit
            </button>
          </div>
        </div>
      </form>
    </main>
  </body>
</html>
